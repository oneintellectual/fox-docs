{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to \u5e72\u996d\u6587\u6863","text":""},{"location":"biyi-starter/","title":"biyi-starter \u5feb\u901f\u5f00\u53d1\u6846\u67b6\u5f00\u53d1\u6307\u5f15","text":""},{"location":"biyi-starter/#_1","title":"\u6982\u8ff0","text":"<p>biyi-starter \u5feb\u901f\u5f00\u53d1\u77ff\u5efa\u662f\u57fa\u4e8e JPA \u8bbe\u8ba1\u7684\u4e00\u7cfb\u5217\u57fa\u7840\u7c7b\u3002\u4e1a\u52a1\u5de5\u7a0b\u53ea\u9700\u6839\u636e JPA \u89c4\u8303\u8bbe\u8ba1\u4e1a\u52a1\u5b9e\u4f53\u7c7b\uff08Entity\uff09\uff0c\u5e76\u7ee7\u627f\u6216\u5b9e\u73b0\u57fa\u7840\u7684Entity\u3001Repository\u3001Service\u3001Controller \u7b49\u7c7b\u548c\u63a5\u53e3\u5373\u53ef\u5b8c\u6210 CRUD \u63a5\u53e3\u7684\u5f00\u53d1\u3002\u67e5\u8be2\u63a5\u53e3\u652f\u6301\u52a8\u6001\u67e5\u8be2\u6761\u4ef6\uff0c\u53ef\u4ee5\u5728\u4e0d\u66f4\u65b0\u4ee3\u7801\u7684\u60c5\u51b5\u4e0b\u5b9e\u73b0\u4e00\u4e9b\u590d\u6742\u7684\u6761\u4ef6\u67e5\u8be2\u3002\u67e5\u8be2\u63a5\u53e3\u4e5f\u652f\u6301\u9884\u8bbe\u6761\u4ef6\u67e5\u8be2\uff0c\u53ef\u4ee5\u901a\u8fc7\u63d0\u4ea4\u7b80\u5355\u7684\u53c2\u6570\u5b9e\u73b0\u6761\u4ef6\u67e5\u8be2\u3002</p>"},{"location":"biyi-starter/#_2","title":"\u7279\u6027","text":"<ul> <li>\u6807\u51c6 JPA</li> <li>\u7ea7\u8054\u67e5\u8be2</li> <li>\u7ea7\u8054\u4fdd\u5b58</li> <li>\u7ea7\u8054\u5220\u9664</li> <li>\u52a8\u6001\u6761\u4ef6\u67e5\u8be2</li> <li>\u9884\u8bbe\u6761\u4ef6\u67e5\u8be2</li> </ul>"},{"location":"biyi-starter/#maven","title":"maven \u4f9d\u8d56","text":"<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.play.cloudframework&lt;/groupId&gt;\n    &lt;artifactId&gt;biyi-starter&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>"},{"location":"biyi-starter/#_3","title":"\u57fa\u7840\u7c7b\u4ecb\u7ecd","text":""},{"location":"biyi-starter/#_4","title":"\u57fa\u7840\u5b9e\u4f53\u7c7b","text":""},{"location":"biyi-starter/#biyibaseentityjava","title":"BiyiBaseEntity.java","text":"<p>\u57fa\u7840\u5b9e\u4f53\u7c7b\uff0c\u6240\u6709\u4e1a\u52a1\u5b9e\u4f53\u7c7b\uff08Entity\uff09\u90fd\u7ee7\u627f\u6b64\u7c7b\uff0c\u6b64\u7c7b\u4e2d\u5b9a\u4e49\u4e86\u4ee5\u4e0b\u5c5e\u6027</p> \u5c5e\u6027 \u6570\u636e\u7c7b\u578b \u8bf4\u660e createBy String \u521b\u5efa\u8005userName createTime Date \u521b\u5efa\u65f6\u95f4 updateBy String \u66f4\u65b0\u8005userName updateTime Date \u66f4\u65b0\u65f6\u95f4 lockFlag Integer \u9501\u5b9a\u6807\u8bc6 delFlag Integer \u903b\u8f91\u5220\u9664\u6807\u8bc6"},{"location":"biyi-starter/#_5","title":"\u793a\u4f8b","text":"<pre><code>@Data\n@EqualsAndHashCode(callSuper = false)\n@Entity\n@Table(name = \"demo_parent\")\npublic class DemoParent extends BiyiBaseEntity implements Serializable {\n\n  private static final long serialVersionUID = 1L;\n\n  @Id\n  @GeneratedValue(generator = \"biyi\")\n  private String id;\n\n  private String name;\n\n}\n\n</code></pre>"},{"location":"biyi-starter/#jpa","title":"JPA \u4ed3\u5e93\u63a5\u53e3","text":""},{"location":"biyi-starter/#biyijparepositoryjava","title":"BiyiJpaRepository.java","text":"<p>\u4ed3\u5e93\u63a5\u53e3\uff0c\u8be5\u63a5\u53e3\u7ee7\u627f\u4e86 Jpa \u5b9e\u73b0\u9700\u8981\u7684\u63a5\u53e3\uff0c\u4e1a\u52a1\u4ed3\u5e93\u63a5\u53e3\u7ee7\u627f\u6b64\u63a5\u53e3</p>"},{"location":"biyi-starter/#_6","title":"\u793a\u4f8b","text":"<pre><code>@Repository\npublic interface DemoParentRepository extends BiyiJpaRepository&lt;DemoParent, String&gt; {\n\n}\n</code></pre>"},{"location":"biyi-starter/#jpa_1","title":"JPA \u670d\u52a1\u63a5\u53e3","text":""},{"location":"biyi-starter/#biyijpainterfaceservicejava","title":"BiyiJpaInterfaceService.java","text":"<p>\u670d\u52a1\u63a5\u53e3\uff0c\u8be5\u63a5\u53e3\u5b9e\u73b0\u4e86 CRUD \u7684\u6838\u5fc3\u903b\u8f91\uff0c\u4e1a\u52a1\u670d\u52a1\u63a5\u53e3\u7ee7\u627f\u6b64\u63a5\u53e3\uff0c\u4e1a\u52a1\u7c7b\u5b9e\u73b0\u63a5\u53e3\u5b9a\u4e49\u7684\u4e00\u4e9b\u65b9\u6cd5</p>"},{"location":"biyi-starter/#_7","title":"\u793a\u4f8b","text":"<pre><code>public interface DemoParentService extends BiyiJpaInterfaceService&lt;DemoParent, String&gt; {\n\n}\n</code></pre> <pre><code>@Service\npublic class DemoParentServiceImpl\n    implements DemoParentService {\n\n  @Autowired\n  private DemoParentRepository demoParentRepository;\n\n  @Override\n  public BiyiJpaRepository&lt;DemoParent, String&gt; getRepository() {\n    return demoParentRepository;\n  }\n\n}\n</code></pre>"},{"location":"biyi-starter/#jpa-rest","title":"JPA Rest \u63a7\u5236\u7c7b","text":""},{"location":"biyi-starter/#biyijparestcontrollerjava","title":"BiyiJpaRestController.java","text":"<p>\u57fa\u7840\u63a5\u53e3\u7c7b\uff0c\u8be5\u7c7b\u5b9e\u73b0\u4e86\u4ee5\u4e0b CRUD \u63a5\u53e3</p> \u63a5\u53e3 \u8bf7\u6c42\u65b9\u6cd5 \u8bf4\u660e /page POST \u6761\u4ef6\u5206\u9875\u67e5\u8be2\uff0c\u652f\u6301\u52a8\u6001\u6761\u4ef6\u67e5\u8be2 /list POST \u6761\u4ef6\u5217\u8868\u67e5\u8be2\uff0c\u652f\u6301\u52a8\u6001\u6761\u4ef6\u67e5\u8be2 /{id} GET \u67e5\u8be2\u5355\u6761\u6570\u636e / POST \u6dfb\u52a0 /{id} PUT \u4fee\u6539 /{id} DELETE \u5220\u9664 /import POST \u5bfc\u5165 /export POST \u5bfc\u51fa"},{"location":"biyi-starter/#_8","title":"\u793a\u4f8b","text":"<pre><code>@RestController\n@RequestMapping(\"/demo/parent\")\n@Api(value = \"demo_parent\", tags = \"\u6f14\u793a\u7236\u7ea7\")\npublic class DemoParentController extends BiyiJpaRestController&lt;DemoParent, String&gt; {\n\n  @Resource\n  private DemoParentService demoParentService;\n\n  @Override\n  public BiyiJpaInterfaceService&lt;DemoParent, String&gt; getService() {\n    return demoParentService;\n  }\n\n}\n</code></pre>"},{"location":"biyi-starter/#jpa-rest_1","title":"JPA \u9884\u8bbe\u6761\u4ef6 Rest \u63a7\u5236\u7c7b","text":""},{"location":"biyi-starter/#biyijpapreconditionrestcontrollerjava","title":"BiyiJpaPreConditionRestController.java","text":"<p>\u9884\u8bbe\u6761\u4ef6\u63a5\u53e3\u7c7b\uff0c\u8be5\u7c7b\u5b9e\u73b0\u4e86\u652f\u6301\u9884\u8bbe\u67e5\u8be2\u6761\u4ef6\u7684\u63a5\u53e3</p> \u63a5\u53e3 \u8bf7\u6c42\u65b9\u6cd5 \u8bf4\u660e /page GET \u6761\u4ef6\u5206\u9875\u67e5\u8be2\uff0c\u652f\u6301\u52a8\u6001\u6761\u4ef6\u67e5\u8be2 /list GET"},{"location":"biyi-starter/#_9","title":"\u793a\u4f8b","text":"<pre><code>@RestController\n@RequestMapping(\"/demo/parent\")\n@Api(value = \"demo_parent\", tags = \"\u6f14\u793a\u7236\u7ea7\")\npublic class DemoParentController\n    extends BiyiJpaPreConditionRestController&lt;DemoParent, String, DemoParentParamDTO&gt; {\n\n  @Resource\n  private DemoParentService demoParentService;\n\n  @Override\n  public BiyiJpaInterfaceService&lt;DemoParent, String&gt; getService() {\n    return demoParentService;\n  }\n\n}\n</code></pre>"},{"location":"biyi-starter/#_10","title":"\u524d\u7f6e\u6761\u4ef6","text":"<p>\u5b9a\u4e49 DemoParentParamDTO.java</p>"},{"location":"biyi-starter/#_11","title":"\u52a8\u6001\u67e5\u8be2","text":""},{"location":"biyi-starter/#_12","title":"\u8bf7\u6c42\u63a5\u53e3\u65b9\u5f0f","text":"<pre><code>POST xxx/page \n</code></pre> <pre><code>POST xxx/list\n</code></pre>"},{"location":"biyi-starter/#_13","title":"\u52a8\u6001\u67e5\u8be2\u8bed\u6cd5","text":"<p>\u52a8\u6001\u67e5\u8be2\u8bed\u6cd5\u4e3a JSON \u7684\u4e00\u79cd\u683c\u5f0f\uff0c\u63a5\u53e3\u8c03\u7528\u8005\u901a\u8fc7\u6784\u5efa\u5bf9\u5e94\u683c\u5f0f\u7684 JSON \u5373\u53ef\u5b9e\u73b0\u5bf9\u5e94\u7684\u6761\u4ef6\u67e5\u8be2\uff0c\u8bed\u6cd5\u683c\u5f0f\u5982\u4e0b</p> <pre><code>{\n    \"property\": \"value\"\n}\n</code></pre> <pre><code>{\n    \"property\": {\n      \"expression\": \"value\"\n    }\n}\n</code></pre>"},{"location":"biyi-starter/#_14","title":"\u793a\u4f8b","text":"<pre><code>{\n  \"name\": \"\u5f20\u4e09\",\n  \"age\": {\n    \"lt\": 29\n  }\n}\n</code></pre> <p>\u67e5\u8be2\u6761\u4ef6\u4e3a\u67e5\u8be2<code>name</code>\u4e3a<code>\"\u5f20\u4e09\"</code>\u5e76\u4e14<code>age</code>\u5c0f\u4e8e<code>29</code>\u7684\u6570\u636e</p> <p>\u5907\u6ce8\uff0c\u6240\u6709\u6761\u4ef6\u4e4b\u95f4\u4e3a<code>\u4e0e</code>\u7684\u5173\u7cfb</p>"},{"location":"biyi-starter/#_15","title":"\u67e5\u8be2\u8868\u8fbe\u5f0f\u652f\u6301\u5982\u4e0b","text":"\u8868\u8fbe\u5f0f \u652f\u6301\u6570\u636e\u7c7b\u578b \u8bf4\u660e \u65e0 \u57fa\u7840\u6570\u636e\u7c7b\u578b\uff08\u4e0e\u5c5e\u6027\u5b9a\u4e49\u7684\u6570\u636e\u7c7b\u578b\u4e00\u81f4\uff09 \u7b49\u503c\u6bd4\u8f83 min \u6570\u503c\u3001\u5b57\u7b26\u4e32\uff0c\u65e5\u671f\uff08\u5b57\u7b26\u4e32\uff0c\u683c\u5f0f\u4e3a\"2023-01-01\"\u548c\"2023-01-01 23:59:59\"\uff09\uff08\u4e0e\u5c5e\u6027\u5b9a\u4e49\u7684\u6570\u636e\u7c7b\u578b\u4e00\u81f4\uff09 \u533a\u95f4\u6700\u5c0f\u503c\uff0c\u9ed8\u8ba4\u4e3a\u95ed\u533a\u95f4\uff0c\u901a\u8fc7minClose=false\uff0c\u8bbe\u7f6e\u4e3a\u5f00\u533a\u95f4\uff0c\u5982\u679c\u6ca1\u6709max\u6761\u4ef6\uff0c\u8be5\u6761\u4ef6\u7b49\u4ef7\u4e8egt\u6216gte max \u6570\u503c\u3001\u5b57\u7b26\u4e32\uff0c\u65e5\u671f\uff08\u5b57\u7b26\u4e32\uff0c\u683c\u5f0f\u4e3a\"2023-01-01\"\u548c\"2023-01-01 23:59:59\"\uff09\uff08\u4e0e\u5c5e\u6027\u5b9a\u4e49\u7684\u6570\u636e\u7c7b\u578b\u4e00\u81f4\uff09 \u533a\u95f4\u6700\u5927\u503c\uff0c\u9ed8\u8ba4\u4e3a\u95ed\u533a\u95f4\uff0c\u901a\u8fc7maxClose=false\uff0c\u8bbe\u7f6e\u4e3a\u5f00\u533a\u95f4\uff0c\u5982\u679c\u6ca1\u6709min\u6761\u4ef6\uff0c\u8be5\u6761\u4ef6\u7b49\u4ef7\u4e8elt\u6216lte lt \u6570\u503c\u3001\u5b57\u7b26\u4e32\uff0c\u65e5\u671f\uff08\u5b57\u7b26\u4e32\uff0c\u683c\u5f0f\u4e3a\"2023-01-01\"\u548c\"2023-01-01 23:59:59\"\uff09\uff08\u4e0e\u5c5e\u6027\u5b9a\u4e49\u7684\u6570\u636e\u7c7b\u578b\u4e00\u81f4\uff09 \u5c0f\u4e8e lte \u6570\u503c\u3001\u5b57\u7b26\u4e32\uff0c\u65e5\u671f\uff08\u5b57\u7b26\u4e32\uff0c\u683c\u5f0f\u4e3a\"2023-01-01\"\u548c\"2023-01-01 23:59:59\"\uff09\uff08\u4e0e\u5c5e\u6027\u5b9a\u4e49\u7684\u6570\u636e\u7c7b\u578b\u4e00\u81f4\uff09 \u5c0f\u4e8e\u6216\u7b49\u4e8e gt \u6570\u503c\u3001\u5b57\u7b26\u4e32\uff0c\u65e5\u671f\uff08\u5b57\u7b26\u4e32\uff0c\u683c\u5f0f\u4e3a\"2023-01-01\"\u548c\"2023-01-01 23:59:59\"\uff09\uff08\u4e0e\u5c5e\u6027\u5b9a\u4e49\u7684\u6570\u636e\u7c7b\u578b\u4e00\u81f4\uff09 \u5927\u4e8e gte \u6570\u503c\u3001\u5b57\u7b26\u4e32\uff0c\u65e5\u671f\uff08\u5b57\u7b26\u4e32\uff0c\u683c\u5f0f\u4e3a\"2023-01-01\"\u548c\"2023-01-01 23:59:59\"\uff09\uff08\u4e0e\u5c5e\u6027\u5b9a\u4e49\u7684\u6570\u636e\u7c7b\u578b\u4e00\u81f4\uff09 \u5927\u4e8e\u6216\u7b49\u4e8e in \u6570\u7ec4\uff0c\u6570\u7ec4\u5143\u7d20\u4e3a\u57fa\u7840\u6570\u636e\u7c7b\u578b\uff08\u4e0e\u5c5e\u6027\u5b9a\u4e49\u7684\u6570\u636e\u7c7b\u578b\u4e00\u81f4\uff09 \u591a\u4e2a\u7b49\u503c\u6bd4\u8f83\u6761\u4ef6 contain \u5b57\u7b26\u4e32 \u5305\u542b\u8be5\u5b57\u7b26\u4e32\uff0c\u7b49\u4ef7\u4e8e\"%xxx%\" startWith \u5b57\u7b26\u4e32 \u4ee5\u8be5\u5b57\u7b26\u4e32\u5f00\u59cb\uff0c\u7b49\u4ef7\u4e8e\"xxx%\" endWith \u5b57\u7b26\u4e32 \u4ee5\u8be5\u5b57\u7b26\u4e32\u7ed3\u675f\uff0c\u7b49\u4ef7\u4e8e\"%xxx\""},{"location":"biyi-starter/#_16","title":"\u5206\u9875\u6392\u5e8f","text":"<p>\u5206\u9875\u6392\u5e8f\u53c2\u6570\u662f\u5728\u5206\u9875\u67e5\u8be2\u63a5\u53e3\u4e2d\u53ef\u4ee5\u8bbe\u7f6e\u7684\u53c2\u6570\uff0c\u793a\u4f8b\u5982\u4e0b</p> <pre><code>{\n  \"pageNumber\": 1,\n  \"pageSize\": 20,\n  \"orders\": [\n    {\n      \"property\": \"id\",\n      \"asc\": true\n    }\n  ],\n  \"params\": {\n    \"name\": \"\u5f20\u4e09\",\n    \"age\": {\n      \"lt\": 29\n    },\n    \"dataScope\": [\"admin\"]\n  }\n}\n</code></pre>"},{"location":"biyi-starter/#_17","title":"\u9884\u8bbe\u6761\u4ef6\u67e5\u8be2","text":""},{"location":"biyi-starter/#_18","title":"\u8bf7\u6c42\u63a5\u53e3\u65b9\u5f0f","text":"<pre><code>GET xxx/page\n</code></pre> <pre><code>GET xxx/list\n</code></pre>"},{"location":"biyi-starter/#_19","title":"\u9884\u8bbe\u6761\u4ef6\u53c2\u6570\u7c7b","text":"<p>\u67e5\u8be2\u53c2\u6570\u7c7b\u9700\u8981\u7ee7\u627f<code>BiyiBaseParamDTO</code>\u7c7b\uff0c\u5e76\u5728\u9759\u6001\u5757\u4e2d\u8c03\u7528<code>register()</code>\u65b9\u6cd5\uff0c\u793a\u4f8b\u5982\u4e0b</p> <pre><code>@Data\n@EqualsAndHashCode(callSuper = false)\npublic class DemoParentParamDTO extends BiyiBaseParamDTO&lt;DemoParent&gt; {\n\n  static {\n    register(DemoParentParamDTO.class, DemoParent::getName, ConditionTypeEnum.CONTAIN,\n        DemoParentParamDTO::getName);\n    register(DemoParentParamDTO.class, DemoParent::getCreateTime, ConditionTypeEnum.LT,\n        DemoParentParamDTO::getDateStr);\n  }\n\n  private String name;\n\n  private String dateStr;\n\n}\n</code></pre>"},{"location":"biyi-starter/#_20","title":"\u9884\u8bbe\u6761\u4ef6\u67e5\u8be2\u8bed\u6cd5","text":"<p>\u65f6\u95f4\u683c\u5f0f\u4e3a<code>yyyy-MM-dd</code></p> <pre><code>GET xxx/list?name=xxx&amp;dateStr=2023-01-01\n</code></pre> <p>\u67e5\u8be2\u6761\u4ef6\u4e3a\u67e5\u8be2<code>name\u5305\u542b</code>\"xxx\"\u5e76\u4e14<code>createDate</code>\u5c0f\u4e8e<code>2023-01-01</code>\u7684\u6570\u636e</p> <p>\u6216\u5982\u4e0b\u65f6\u95f4\u683c\u5f0f\uff0c<code>yyyy-MM-dd HH:mm:ss</code></p> <pre><code>GET xxx/list?name=xxx&amp;dateStr=2023-01-01%2023%3A59%3A59\n</code></pre>"},{"location":"biyi-starter/#_21","title":"\u5206\u9875\u6392\u5e8f","text":"<pre><code>GET xxx/page?pageNumber=1&amp;pageSize=20&amp;order=createDate%20asc&amp;name=xxx&amp;dateStr=2023-01-01\n</code></pre> <p>order\u683c\u5f0f\u4e3a<code>&lt;property&gt; asc[desc]</code>\u6216\u8005<code>&lt;property&gt;</code>\uff0c\u5f53order\u4e0d\u6307\u5b9a\u6392\u5e8f\u65b9\u5f0f\u65f6\uff0c\u6392\u5e8f\u65b9\u5f0f\u4e3adesc</p>"},{"location":"biyi-starter/#jpa_2","title":"JPA\u76f8\u5173","text":""},{"location":"biyi-starter/#_22","title":"\u4e3b\u952e\u751f\u6210\u5668","text":"<p>\u5728<code>com.play.webframework.demo</code>\u6216<code>com.play.webframework.demo.entity</code>\u5305\u4e0b\u9762\u914d\u7f6epackage-info.java</p> <pre><code>@GenericGenerator(name = \"biyi\",\n    strategy = \"com.play.cloudframework.starter.domain.persistence.BiyiUUIDGenerator\")\npackage com.play.webframework.demo;\n\nimport org.hibernate.annotations.GenericGenerator;\n</code></pre> <p>\u6216</p> <pre><code>@GenericGenerator(name = \"biyi\",\n    strategy = \"com.play.cloudframework.starter.domain.persistence.BiyiUUIDGenerator\")\npackage com.play.webframework.demo.entity;\n\nimport org.hibernate.annotations.GenericGenerator;\n\n</code></pre> <p>\u5b8c\u6210\u4ee5\u4e0a\u914d\u7f6e\u540e\uff0c\u53ef\u4ee5\u5728\u4e1a\u52a1\u5b9e\u4f53\u7c7b\u4e2d\u4f7f\u7528\u4e3b\u952e\u751f\u6210\u5668\uff0c\u793a\u4f8b\u5982\u4e0b</p> <pre><code>package com.play.webframework.demo.entity;\n\nimport java.io.Serializable;\nimport javax.persistence.Entity;\nimport javax.persistence.Table;\nimport com.play.cloudframework.starter.control.entity.BiyiBaseEntity;\nimport lombok.Data;\nimport lombok.EqualsAndHashCode;\n\n@Data\n@EqualsAndHashCode(callSuper = false)\n@Entity\n@Table(name = \"demo_entity\")\npublic class DemoEntity extends BiyiBaseEntity implements Serializable {\n\n  private static final long serialVersionUID = 1L;\n\n  @Id\n  @GeneratedValue(generator = \"biyi\")\n  private String id;\n\n}\n</code></pre>"},{"location":"biyi-starter/#_23","title":"\u8bbe\u7f6e\u7ea7\u8054\u5173\u7cfb","text":"<p>\u5728\u63a5\u53e3<code>BiyiCascade</code>\u4e2d\u58f0\u660e\u4e86<code>setCascadeRelationship</code>\u65b9\u6cd5</p> <pre><code>public interface BiyiCascade {\n\n  default void setCascadeRelationship() {}\n\n}\n</code></pre> <p>\u8be5\u65b9\u6cd5\u5728\u4e1a\u52a1\u5b9e\u4f53\u5bf9\u8c61\u4fdd\u5b58\u548c\u66f4\u65b0\u4e4b\u524d\u4f1a\u8c03\u7528\uff0c\u5f00\u53d1\u8005\u901a\u8fc7\u5b9e\u73b0\u8be5\u65b9\u6cd5\u6765\u8bbe\u7f6e\u4e1a\u52a1\u5b9e\u4f53\u95f4\u7684\u5173\u7cfb\uff0c\u4ece\u800c\u8fbe\u5230\u7ea7\u8054\u4fdd\u5b58\u7684\u6548\u679c\uff0c\u793a\u4f8b\u5982\u4e0b</p> <p>DemoParent.java</p> <pre><code>package com.play.webframework.demo.entity;\n\nimport java.io.Serializable;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Optional;\nimport javax.persistence.CascadeType;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.JoinTable;\nimport javax.persistence.ManyToMany;\nimport javax.persistence.OneToMany;\nimport javax.persistence.Table;\nimport com.play.cloudframework.starter.control.entity.BiyiBaseEntity;\nimport lombok.Data;\nimport lombok.EqualsAndHashCode;\n\n@Data\n@EqualsAndHashCode(callSuper = false)\n@Entity\n@Table(name = \"demo_parent\")\npublic class DemoParent extends BiyiBaseEntity implements Serializable {\n\n  private static final long serialVersionUID = 1L;\n\n  @Id\n  @GeneratedValue(generator = \"biyi\")\n  private String id;\n\n  private String name;\n\n  @OneToMany(mappedBy = \"parent\", cascade = CascadeType.ALL, orphanRemoval = true)\n  private List&lt;DemoChild&gt; children;\n\n  @ManyToMany(cascade = CascadeType.ALL)\n  @JoinTable(name = \"demo_address_parent\", joinColumns = {@JoinColumn(name = \"parent_id\")},\n      inverseJoinColumns = {@JoinColumn(name = \"address_id\")})\n  private List&lt;DemoAddress&gt; addresses;\n\n  @Override\n  public void setCascadeRelationship() {\n    Optional.ofNullable(this.children)\n        .ifPresent(children -&gt; children.forEach(e -&gt; e.setParent(this)));\n    Optional.ofNullable(this.addresses).ifPresent(\n        children -&gt; children.forEach(e -&gt; e.setParents(Collections.singletonList(this))));\n  }\n\n}\n</code></pre> <p>DemoChild.java</p> <pre><code>package com.play.webframework.demo.entity;\n\nimport java.io.Serializable;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.Table;\nimport com.play.cloudframework.starter.control.entity.BiyiBaseEntity;\nimport lombok.Data;\nimport lombok.EqualsAndHashCode;\n\n@Data\n@EqualsAndHashCode(callSuper = false)\n@Entity\n@Table(name = \"demo_child\")\npublic class DemoChild extends BiyiBaseEntity implements Serializable {\n\n  private static final long serialVersionUID = 1L;\n\n  @Id\n  @GeneratedValue(generator = \"biyi\")\n  private String id;\n\n  private String name;\n\n  @Column(name = \"parent_id\", insertable = false, updatable = false)\n  private String parentId;\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  private DemoParent parent;\n\n}\n</code></pre> <p>DemoAddress.java</p> <pre><code>package com.play.webframework.demo.entity;\n\nimport java.io.Serializable;\nimport java.util.List;\nimport javax.persistence.CascadeType;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.ManyToMany;\nimport javax.persistence.Table;\nimport com.play.cloudframework.starter.control.entity.BiyiBaseEntity;\nimport lombok.Data;\nimport lombok.EqualsAndHashCode;\n\n@Data\n@EqualsAndHashCode(callSuper = false)\n@Entity\n@Table(name = \"demo_address\")\npublic class DemoAddress extends BiyiBaseEntity implements Serializable {\n\n  private static final long serialVersionUID = 1L;\n\n  @Id\n  @GeneratedValue(generator = \"biyi\")\n  private String id;\n\n  private String name;\n\n  @ManyToMany(mappedBy = \"addresses\", cascade = CascadeType.ALL)\n  private List&lt;DemoParent&gt; parents;\n\n}\n</code></pre>"}]}